# (WIP) EggbotWireless
My attempt at making the ordinary egg-drawing robot a bit special, by adding a battery and a esp8266 to it.

<img src="docs/assembled1.jpg" width="30%">
<img src="docs/assembled2.jpg" width="30%">
<img src="docs/disassembled.jpg" width="30%">

## Known issues

It's not quite "wireless and portable" yet, for the reasons mentioned:

* The old servo motor booster circuit triggers battery overcurrent protection, so external USB power is needed (the new booster circuit needs testing, or you could power it directly from the battery, but it's a bit glitchy)

* The v1.5 revision (with the new TPS61023 servo power booster circuit) works *perfectly!* for some time, then either the TPS61023 or Q3 let the magic smoke out ðŸ˜• (I think it's just the TPS61023 because it had happened twice: once the TPS61023 just short circuit, second time Q3 burned, which could be caused by TPS61023 short circuiting again)

* The GCode is generated by inkscape, so needs a computer

## Getting started

### How to build the firmware

Should just work with platformio, but if you're on windows then you need to copy the repo with symlinks 

Also, when uploading the firmware to ESP8266 don't forget to upload the SPIFFS as well - it contains the simple web interface that allows you to run GCode on the device.

If you want it to connect to your WiFi, then you also should either change the defaults in the ConfigManager.cpp
Or you can set the configuration via serial:
```
lcp wifiMode client
lcp wifiSSID (your ssid)
lcp wifiPass (your password)
lcw
```
*(lcp stands for "local config put")*

*(lcw stands for "local config write") which saves it to EEPROM*

### How to create GCode

Now creating gcode for this thing is quite tricky - you can use the gcodetools Inkscape extension.

The process is supposed to be like this:

1. Open Utils/egg.svg with Inkscape
2. Insert something you want to draw as a child of Layer 1 (the rectangle is the egg boundary)
3. Make it a path
4. Use path to gcode (Also set minimal arc radius in the settings to something big as drawing arcs with g02 is not supported)

You can look at spiral.svg for an example
